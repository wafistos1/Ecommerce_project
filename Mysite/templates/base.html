{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Latest compiled and minified CSS -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{% static 'css/custom.css' %}">
  <link href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  {% block head_title %}

  <title>Document</title>
  {% endblock head_title %}
</head>

<body>
  {% block navbar %}

  <div class="container">
    <nav id="navbarcolor" class="navbar navbar-inverse navbar-expand-xl navbar-dark navbar-fixed-top">
      <div class="navbar-header d-flex col">
        <a class="navbar-brand" href="{% url 'home' %}"><i class="fa fa-cube"></i>Ya<b>Tach</b></a>
        <button type="button" data-target="#navbarCollapse" data-toggle="collapse"
          class="navbar-toggle navbar-toggler ml-auto">
          <span class="navbar-toggler-icon"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <!-- Collection of nav links, forms, and other content for toggling -->
      <div id="navbarCollapse" class="collapse navbar-collapse justify-content-start">
        <form class="navbar-form form-inline">
          <div class="btn btn-lg">
            <a href="{% url 'add_annonce' %}" class="btn btn-default ">Deposer Annonce</a>
          </div>
          <div class="input-group search-box">
            <input type="text" id="search" class="form-control" placeholder="Recherche Annonce">
            <span class="input-group-addon"><i class="material-icons">&#xE8B6;</i></span>
          </div>
        </form>
        <ul class="nav navbar-nav navbar-right ml-auto">
          <li class="nav-item active"><a href="{% url 'home' %}" class="nav-link"><i
                class="fa fa-home"></i><span>Home</span></a></li>
          <li class="nav-item"><a href="#" class="nav-link"><i class="fa fa-envelope"><span
                  class="badge">42</span></i><span>Messages</span></a></li>
          <li class="nav-item"><a href="#" class="nav-link"><i class="fa fa-bell"><span
                  class="badge">42</span></i><span>Notifications</span></a>
          </li>


          {% if user.is_authenticated %}

          <li class="nav-item dropdown">
            <a href="#" data-toggle="dropdown" class="nav-link dropdown-toggle user-action"><img
                src="{{user.picture.url}}" class="avatar" alt="Avatar"> {{user.username}} <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="{% url 'profile'%}" class="dropdown-item"><i class="fa fa-user-o"></i> Profile</a></li>
              <li><a href="#" class="dropdown-item"><i class="fa fa-calendar-o"></i> Calendar</a></li>
              <li><a href="#" class="dropdown-item"><i class="fa fa-sliders"></i> Settings</a></li>
              <li class="divider dropdown-divider"></li>
              <li><a href="{% url 'account_logout'%}" class="dropdown-item"><i class="material-icons">&#xE8AC;</i>
                  Logout</a></li>
            </ul>
          </li>
          {% else %}
          <li class="nav-item"><a href="{% url 'account_signup'%}" class="nav-link"><i
                class="fa fa-sign-in"></i><span>Inscription</span></a></li>
          <li class="nav-item"><a href="{% url 'account_login'%}" class="nav-link" data-toggle="modal"><i
                class="fa fa-user"></i><span>Connexion</span></a></li>
          {% endif%}
        </ul>
      </div>
    </nav>
    {% endblock navbar %}

    <!-- block content -->
    {% block content %}
    <div class="jumbotron  " id="header-section">
      {% for message in messages %}
      <p id="messages"> {{ message }}</p>
      {% endfor%}
      <h1>HEADER</h1>
      <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus.
        Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
      <p><a class="btn btn-primary btn-lg" href="#" role="button">Learn more</a></p>
    </div>
    <!-- block categories -->
    {% block categories %}

    <div class="col-md-3 ">
      <h1 class="my-4">Categorie</h1>
      <div class="list-group">
        {% for list in categories %}

        <a href="#" class="list-group-item">{{ list.name }} </a>

        {% endfor %}
      </div>
    </div>


    {% endblock categories %}
    <!-- block categories -->


    <div class="col-md-9">

      <div class="row">


        <div class="col-sm-6 col-md-9">
          <div class="well">

            <!-- block annonce -->
            {% block annonce %}
            <h2>Les annonces</h2>
            <div class="well">
              <!--Loop list of annonces -->
              <!-- {% for detail in lists %}
              <div class="thumbnail" style="width: 500px; height: 230px">

                <img data-src="holder.js/300x200" alt="300x200"
                  style="width: 250px; height: 150px;float:left;padding-right:10px" src="{{ detail.image.url }}"
                  class="img-responsive">
                <div class="caption">
                  <h3>{{ detail.title }}</h3>

                  <p>{{ detail.description }}</p>
                </div>
                <h3>{{ detail.price }}</h3>
                <h2><a href="{{ detail.get_absolute_url }}">detail</a></h2>

              </div>


              {% endfor %} -->
              {% for detail in annonces %}
              <div class="col-lg-4 col-md-6 mb-4">
                  <div class="card h-100" style="border: 1px solid rgb(207, 142, 191);">
                  <a href="#"><img data-src="holder.js/300x200" alt="300x200" style="width: 150px; height: 100px;float:left;padding-right:10px;border-width:10px;
                    border-color: violet;" class="card-img-top"
                      src="{% if detail.image %}{{ detail.image.url }}{% else %}{% static 'img/no-image.png' %}{% endif %}"
                      alt=""></a>
                  <div class="card-body" style="margin-top: 2px; margin-right: 2px">
                    <h4 class="card-title">
                      <a href="{{ detail.get_absolute_url }}">{{detail.title}}</a>
                    </h4>
                    <h5>${{detail.price}}</h5>
                    <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet numquam
                      aspernatur!</p>
                  </div>
                  <div class="card-footer">
                    <small class="text-muted">&#9733; &#9733; &#9733; &#9733; &#9734;</small>
                  </div>
                </div>
              </div>
              {% endfor %}
              <!--Pagitation -->
              <div class="pagination">
                <span class="step-links">
                  {% if page_obj.has_previous %}
                  <a href="?page=1">&laquo; first</a>
                  <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                  {% endif %}

                  <span class="current">
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                  </span>

                  {% if page_obj.has_next %}
                  <a href="?page={{ page_obj.next_page_number }}">next</a>
                  <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
                  {% endif %}
                </span>
              </div>

            </div>

            {% endblock annonce %}
            <!-- block annonce -->
          </div>

        </div>

        <!--Pub-->
        <div class="col-sm-3 col-md-3">
          <div class='well info'></div>


        </div>
        <!--fin block Pub-->
      </div>
    </div>


    {% endblock content %}
    <!-- block content -->


  </div>

  <div class="container ">
    {% block footer %}
    <div class="jumbotron">
      <h1>FOOTER</h1>
      <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus.
        Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
      <p><a class="btn btn-primary btn-lg" href="#" role="button">Learn more</a></p>
    </div>

    {% endblock footer %}
  </div>


  {% block extra_body %}{%endblock%}
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

</body>

</html>